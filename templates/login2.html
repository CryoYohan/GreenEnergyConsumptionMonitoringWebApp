{% extends 'Landing.html' %}
{% block content %}
<script>
    // Existing code for buttons and popups
    const loginButton = document.querySelector('.login'); // "Log In" button
    const signUpButton = document.querySelector('.sign-up'); // "Sign Up" button
    const startmonitoringButton = document.querySelector('.start-monitoring-button');
    const startmonitoringButton2 = document.querySelector('.start-monitoring-button2');
    const toEnterMonitoringSystem = document.querySelector('.to-enter-btn')
    const DoneRegisterButton = document.querySelector('.done-btn')
    const confirmButton = document.querySelector('.confirm-btn')

    const loginPopup = document.getElementById('login-popup');
    const registerPopup = document.getElementById('register-popup');
    const setupPagePopup = document.getElementById('setup-page-popup');
    const PanelsetupPagePopup = document.getElementById('panel-page-popup');
    const overlay = document.getElementById('overlay');
    const closeButtons = document.querySelectorAll('.close-btn');

    // Select all .solarpaneldiv elements
    const solarPanels = document.querySelectorAll('.solarpaneldiv');

    // Loop through each .solarpaneldiv
    solarPanels.forEach(panel => {
        // Find the switch and target text elements within each panel
        const solarSwitch = panel.querySelector('.solarSwitch');
        const wattCapacityText = panel.querySelector('#wattcap p:nth-child(1)');
        const efficiencyText = panel.querySelector('#efficiency #wattcap p:nth-child(1)');
        const optimalTempText = panel.querySelector('#tempt #wattcap p:nth-child(1)');

        // Add event listener to toggle color on switch change
        solarSwitch.addEventListener('change', () => {
            const color = solarSwitch.checked ? '#30B938' : ''; // Set color when checked, reset when unchecked
            wattCapacityText.style.color = color;
            efficiencyText.style.color = color;
            optimalTempText.style.color = color;
        });
    });
    


    document.addEventListener('DOMContentLoaded', () => {
        const solarpanelDivs = document.querySelectorAll('.solarpaneldiv');
        const solarSwitches = document.querySelectorAll('.solarSwitch');
        
        // Set initial height and hide .bottom on page load
        solarpanelDivs.forEach(div => {
            div.style.height = '90%';
        });

        // Toggle height and visibility of .bottom when the switch is changed
        solarSwitches.forEach((switchElement, index) => {
            switchElement.addEventListener('change', () => {
                const panelDiv = solarpanelDivs[index];
                if (switchElement.checked) {
                    panelDiv.style.height = '105%';
                    panelDiv.classList.add('show'); // Show .bottom
                } else {
                    panelDiv.style.height = '90%';
                    panelDiv.classList.remove('show'); // Hide .bottom
                }
            });
        });
    });



    // Event listener for "Log In" button
    loginButton.onclick = function() {
        loginPopup.style.display = 'block';
        overlay.style.display = 'block'; // Show overlay
    }


    // Event listener for "Sign Up" button
    signUpButton.onclick = function() {
        registerPopup.style.display = 'block';
        overlay.style.display = 'block'; // Show overlay
    }

    startmonitoringButton.onclick = function() {
        registerPopup.style.display = 'block';
        overlay.style.display = 'block'; // Show overlay
    }

    startmonitoringButton2.onclick = function() {
        registerPopup.style.display = 'block';
        overlay.style.display = 'block'; // Show overlay
    }
    DoneRegisterButton.onclick = function(){
        setupPagePopup.style.display = 'block';
        overlay.style.display = 'block';
        if (loginPopup.style.display === 'block') {
            loginPopup.style.display = 'none';
        }if (registerPopup.style.display === 'block') {
            registerPopup.style.display = 'none';
        }
    }

    confirmButton.onclick = function(){
        PanelsetupPagePopup.style.display = 'block';
        overlay.style.display = 'block';
        if (setupPagePopup.style.display === 'block') {
            setupPagePopup.style.display = 'none';
        }
    }

    // Event listener for the Sign in link
    document.getElementById('signspan').onclick = function(event) {
        event.preventDefault(); // Prevent default link behavior
        // Hide the login popup if it's currently displayed
        if (loginPopup.style.display === 'block') {
            loginPopup.style.display = 'none';
        }
        // Show the register popup
        registerPopup.style.display = 'block'; 
        overlay.style.display = 'block'; // Show overlay
    }

    document.getElementById('logspan').onclick = function(event) {
        event.preventDefault(); // Prevent default link behavior
        // Hide the login popup if it's currently displayed
        if (registerPopup.style.display === 'block') {
            registerPopup.style.display = 'none';
        }
        // Show the register popup
        loginPopup.style.display = 'block'; 
        overlay.style.display = 'block'; // Show overlay
    }

    // Close buttons event
    closeButtons.forEach(button => {
        button.onclick = function() {
            loginPopup.style.display = 'none';
            registerPopup.style.display = 'none';
            overlay.style.display = 'none'; // Hide overlay
        }
    });

    // Close popup when clicking outside of it
    window.onclick = function(event) {
        if (event.target === overlay) {
            loginPopup.style.display = 'none';
            registerPopup.style.display = 'none';
            setupPagePopup.style.display = 'none';
            overlay.style.display = 'none';
            PanelsetupPagePopup.style.display = 'none';
        }
    }

    // Toggle password visibility for a specified input
    function togglePasswordVisibility(inputId, iconElement) {
        const passwordInput = document.getElementById(inputId);
        
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            iconElement.classList.replace("fa-eye", "fa-eye-slash");
        } else {
            passwordInput.type = "password";
            iconElement.classList.replace("fa-eye-slash", "fa-eye");
        }
    }

</script>   
{% endblock %}