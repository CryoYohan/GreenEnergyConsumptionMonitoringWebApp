{% extends 'UserDashboardTemplate.html' %}
{% block content %}
<div id="simulation-container" style="background-color: #f8f9fa; font-family: Arial, sans-serif; padding: 40px;">
    <!-- Simulasyon Header -->
    <div style="text-align: center; margin-bottom: 40px;">
        <h1 style="font-size: 32px; color: #333; font-weight: bold;">Simulation</h1>
        <h4><span style="color:#30B938;">Please note: Upon saving, the entered data will be logged and used as reference for the next week's records.</span></h4>
    </div>

    <!-- Row of Cards -->
    <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
        <!-- Weather Selection Card -->
        <div style="background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 20px; width: 300px;">
            <h3 style="color: #30B938; text-align: center;">Simulate Weather</h3>
            <select id="weather-select" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <option value="" disabled selected>Pick a weather</option>
                <option value="Sunny">Init (Sunny)</option>
                <option value="Cloudy">Dag-um (Cloudy)</option>
                <option value="Overcast">Makit-an (Overcast)</option>
                <option value="Rainy">Uwanon (Rainy)</option>
            </select>
        </div>

        <!-- Panel Addition Card -->
        <div style="background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 20px; width: 300px;">
            <h3 style="color: #30B938; text-align: center;">Add Appliances</h3>
            <select id="panel-select" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <option value="" disabled selected>Pick Appliances</option>
                <option value="Type1">Monocrystalline</option>
                <option value="Type2">Polycrystalline</option>
                <option value="Type3">Thin-Film</option>
            </select>
            <div style="margin-top: 15px; text-align: center;">
                <label>Quantity: </label>
                <input id="quantity1" value="1" readonly style="width: 50px; text-align: center; border: 1px solid #ccc; border-radius: 5px;">
                <button onclick="changeQuantity('quantity1', 1)" style="margin-left: 10px; padding: 5px 10px; border: none; background: #30B938; color: white; border-radius: 5px;">+</button>
                <button onclick="changeQuantity('quantity1', -1)" style="margin-left: 5px; padding: 5px 10px; border: 1px solid #30B938; background: white; color: #30B938; border-radius: 5px;">-</button>
            </div>
        </div>
        <div style="background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 20px; width: 300px;">
            <h3 style="color: #30B938; text-align: center;">Add Panels</h3>
            <select id="panel-select" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <option value="" disabled selected>Pick Panel Type</option>
                <option value="Type1">Monocrystalline</option>
                <option value="Type2">Polycrystalline</option>
                <option value="Type3">Thin-Film</option>
            </select>
            <div style="margin-top: 15px; text-align: center;">
                <label>Quantity: </label>
                <input id="quantity1" value="1" readonly style="width: 50px; text-align: center; border: 1px solid #ccc; border-radius: 5px;">
                <button onclick="changeQuantity('quantity1', 1)" style="margin-left: 10px; padding: 5px 10px; border: none; background: #30B938; color: white; border-radius: 5px;">+</button>
                <button onclick="changeQuantity('quantity1', -1)" style="margin-left: 5px; padding: 5px 10px; border: 1px solid #30B938; background: white; color: #30B938; border-radius: 5px;">-</button>
            </div>
        </div>
    </div>

    <!-- Appliance List Table -->
    <div style="margin: 20px auto; width: 100%; max-width: 800px;">
        <h3 style="text-align: center; color: #30B938; margin-bottom: 20px;">Weekly Record of Green Energy Production</h3>
        <table style="width: 100%; border-collapse: collapse; background-color: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">
            <thead style="background-color: #30B938; color: white;">
                <tr>
                    <th style="padding: 10px; text-align: left;">Monday</th>
                    <th style="padding: 10px; text-align: left;">Tuesday</th>
                    <th style="padding: 10px; text-align: left;">Wednesday</th>
                    <th style="padding: 10px; text-align: left;">Thursday</th>
                    <th style="padding: 10px; text-align: center;">Friday</th>
                    <th style="padding: 10px; text-align: center;">Saturday</th>
                    <th style="padding: 10px; text-align: center;">Sunday</th>
                    <th style="padding: 10px; text-align: center;">Actions</th>
                </tr>
            </thead>
            <tbody id="appliance-table-body">
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[0] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[1] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[2] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[3] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[4] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[5] }} kwh</td>
                    <td style="padding: 10px; border-bottom: 1px solid #ccc;">{{ inventory[6] }} kwh</td>
                    <td style="padding: 10px; text-align: center; border-bottom: 1px solid #ccc;">
                        <button style="padding: 5px 10px; border: none; background: #dc3545; color: white; border-radius: 5px; cursor: pointer;">Remove</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Save Button -->
    <div style="text-align: center; margin-top: 30px;">
        <button style="background: #30B938; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px;">Luwasa</button>
    </div>
</div>

<script>
    function changeQuantity(id, value) {
        const quantity = document.getElementById(id);
        let current = parseInt(quantity.value, 10);
        if (current + value > 0) {
            quantity.value = current + value;
        }
    }
</script>

{% endblock %}
